<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Honey Badger</title>
  <link rel="icon" href="HoneyBadgerLogo.png" type="image/png"/>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
<a href="#cvRoot" class="skip-link">Skip to CV preview</a>

<header class="toolbar" role="banner">
  <div class="toolbar__row" role="toolbar" aria-label="CV actions">
    <img src="HoneyBadgerLogo.png" alt="" class="toolbar__logo" width="72" height="72" aria-hidden="true"/>
    <span class="toolbar__title">Honey Badger</span>
    <button id="renderBtn" type="button" data-i18n="button.generate" data-i18n-title="hint.generate" title="Update the CV preview with current form data.">Generate</button>
    <button id="resetBtn" type="button" data-i18n="button.reset" data-i18n-title="hint.reset" title="Clear all fields and start over.">Reset</button>
    <button id="downloadJsonBtn" type="button" data-i18n="button.downloadJson" data-i18n-title="hint.downloadJson" title="Download your CV data as a JSON file.">Download JSON</button>
    <button id="uploadJsonBtn" type="button" data-i18n="button.uploadJson" data-i18n-title="hint.uploadJson" title="Upload a JSON file to load into the form.">Upload JSON</button>
    <button id="printBtn" type="button" data-i18n="button.exportPdf" data-i18n-title="hint.exportPdf" title="Save the CV as a PDF file.">Export PDF</button>
    <div class="toolbar__locale" aria-label="Language">
      <label for="localeSelect" class="visually-hidden">Language</label>
      <select id="localeSelect" class="locale-select" aria-label="Language">
        <option value="en">EN</option>
        <option value="ru">RU</option>
      </select>
    </div>
  </div>
  <input type="file" id="jsonFileInput" accept=".json" data-i18n-aria-label="aria.chooseJsonFile" style="display:none"/>
  <div class="toolbar__import">
    <label class="toolbar__import-label" for="fJsonPaste" data-i18n="label.importJson">Import JSON</label>
    <textarea id="fJsonPaste" class="toolbar__import-area" data-i18n-placeholder="placeholder.pasteJson" aria-describedby="import-hint" aria-errormessage="jsonError" aria-invalid="false"></textarea>
    <button id="applyJsonBtn" class="mini-btn" type="button" data-i18n="button.applyJson" data-i18n-title="hint.applyJson" title="Load the pasted JSON into the form.">Apply JSON</button>
  </div>
  <p id="import-hint" class="hint visually-hidden" data-i18n-aria-describedby="aria.importHint">Paste JSON then click Apply to load into the form.</p>
  <p id="jsonError" class="json-error" role="alert" aria-live="polite" aria-atomic="true" hidden></p>
</header>

<div class="app">

  <aside class="panel" role="complementary" aria-label="CV form">

    <div class="field">
      <label for="fName" data-i18n="label.name">Name</label>
      <input id="fName" autocomplete="name"/>
    </div>

    <div class="field">
      <label for="fHeadline" data-i18n="label.headline">Headline</label>
      <input id="fHeadline"/>
    </div>

    <div class="field">
      <label for="fContacts" data-i18n="label.contacts">Contacts (one per line)</label>
      <textarea id="fContacts"></textarea>
    </div>

    <div class="field">
      <label for="fProfile" data-i18n="label.profile">Profile</label>
      <textarea id="fProfile"></textarea>
    </div>

    <div class="field">
      <label for="fImpact" data-i18n="label.keyImpact">Key Impact (one per line)</label>
      <textarea id="fImpact"></textarea>
    </div>

    <div class="field">
      <label for="fChips" data-i18n="label.coreCompetencies">Core Competencies (one per line)</label>
      <textarea id="fChips"></textarea>
    </div>

    <hr/>

    <strong id="exp-heading" data-i18n="label.experience">Experience</strong>
    <button id="addExpBtn" class="mini-btn" type="button" aria-describedby="exp-heading" data-i18n="button.addExp" data-i18n-title="hint.addExp" title="Add a new job or experience entry.">+ Add</button>
    <div id="expList"></div>

    <hr/>

    <div class="field">
      <label for="fEdu" data-i18n="label.education">Education (one per line)</label>
      <textarea id="fEdu"></textarea>
    </div>

    <div class="field">
      <label for="fProjects" data-i18n="label.projects">Projects (one per line)</label>
      <textarea id="fProjects"></textarea>
    </div>

  </aside>

  <main id="cvRoot" class="doc" role="region" aria-label="CV preview"></main>

</div>

<div id="exportPdfModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="exportPdfModalTitle" hidden>
  <div class="modal__backdrop"></div>
  <div class="modal__box">
    <h2 id="exportPdfModalTitle" class="modal__title" data-i18n="exportPdf.title">Save PDF</h2>
    <div class="field">
      <label for="exportPdfFilename" data-i18n="exportPdf.filenameLabel">File name</label>
      <input type="text" id="exportPdfFilename" class="modal__input" value="CV.pdf" autocomplete="off"/>
      <p class="modal__hint hint" data-i18n="exportPdf.filenameHint">.pdf will be added if needed.</p>
    </div>
    <div class="modal__actions">
      <button type="button" id="exportPdfCancel" class="mini-btn" data-i18n="exportPdf.cancel">Cancel</button>
      <button type="button" id="exportPdfSave" data-i18n="exportPdf.save">Save</button>
    </div>
  </div>
</div>

<script src="strings.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="app.js"></script>
</body>
</html>
